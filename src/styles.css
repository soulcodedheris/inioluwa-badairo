@tailwind base;
@tailwind components;
@tailwind utilities;

/* Self-hosted Inter font */
@font-face {
  font-family: 'Inter';
  src: url('/fonts/Inter-Variable.woff2') format('woff2');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

/* Apply Inter to body with system fallbacks */
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Global reset and tokens */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#111;background:#fff}
/* Ensure transparent header shows a dark backdrop in dark mode */
.dark body{background:#000}

:root{
  --gray-900: oklch(19.37% 0.006 300.98);
  --gray-700: oklch(36.98% 0.014 302.71);
  --gray-400: oklch(70.9% 0.015 304.04);
}

img{max-width:100%;height:auto;display:block}

@media (prefers-reduced-motion: reduce){
  *{animation-duration:0.001ms !important;animation-iteration-count:1 !important;transition-duration:0.001ms !important;scroll-behavior:auto !important}
}

/* Long-form typography and UI helpers */
.prose-custom{ @apply prose prose-neutral max-w-none dark:prose-invert; }
.prose-custom blockquote{ @apply border-l-4 border-gray-300 bg-gray-50/60 p-4 italic dark:border-gray-700 dark:bg-zinc-900/40; }
.prose-custom img{ @apply rounded-md shadow; }
.toc-card{ @apply sticky top-20 rounded-lg border border-gray-200 bg-white/70 p-4 backdrop-blur dark:border-gray-700 dark:bg-black/40; }

/* Back to top floating button */
.back-to-top{ @apply fixed bottom-6 right-4 z-40 hidden rounded-full border border-gray-300 bg-white/80 px-3 py-1 text-xs text-gray-800 backdrop-blur hover:bg-white dark:border-gray-700 dark:bg-black/60 dark:text-gray-100; }
/* Ensure header stays above particles and content */
.particles-below-header{z-index:0}

/* Print styles for long-form content */
@media print{
  header, nav, #mobile-menu, .toc-card, footer, #backToTop{ display: none !important; }
  main{ background: #fff !important; color: #000 !important; }
  .prose-custom{ font-size: 12pt; }
}
