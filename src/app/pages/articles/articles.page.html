<section class="mx-auto min-h-dvh w-full max-w-3xl px-6 py-16">
  <app-breadcrumbs />
  <header class="mb-10">
    <h1 class="text-3xl font-semibold sm:text-5xl">Articles</h1>
    <p class="mt-3 text-gray-600">Weekly reflections on purpose, culture, and human-first tech.</p>
  </header>

  <div class="mb-6 flex items-center gap-3">
    <input type="search" placeholder="Search..." class="w-full rounded border px-3 py-2 dark:bg-zinc-800" [(ngModel)]="queryValue" (ngModelChange)="query.set(queryValue)" />
    <select class="rounded border px-2 py-2 dark:bg-zinc-800" [(ngModel)]="sortValue" (ngModelChange)="sort.set(sortValue)">
      <option value="new">Newest</option>
      <option value="short">Shortest</option>
    </select>
  </div>

  <div class="mb-6 flex flex-wrap gap-2">
    @for (cat of categories(); track cat) {
      <button type="button" class="rounded-full border px-3 py-1 text-xs"
        [class.bg-blue-600]="selectedCats().has(cat)" [class.text-white]="selectedCats().has(cat)"
        (click)="toggleCategory(cat)">{{ cat }}</button>
    }
    @if (selectedCats().size) {
      <button type="button" class="rounded-full border px-3 py-1 text-xs" (click)="toggleCategory('')">Clear</button>
    }
  </div>

  <div class="space-y-6" appAppear>
    @for (a of filtered(); track a.slug) {
      <article class="group rounded-xl border border-gray-200 p-0 transition hover:translate-y-0.5 dark:border-gray-700 motion-reduce:hover:translate-y-0">
        <a [routerLink]="['/articles', a.slug]" class="block p-5 no-underline hover:bg-gray-50 focus:bg-gray-50 dark:hover:bg-zinc-800 dark:focus:bg-zinc-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-gray-600 rounded-xl">
          <div class="flex items-start justify-between gap-4">
            <div>
              <h3 class="text-lg font-medium">{{ a.title }}</h3>
              <p class="mt-1 text-sm text-gray-500">{{ a.date | date }}</p>
            </div>
            <span class="shrink-0 rounded-full border border-gray-300 px-2 py-0.5 text-xs text-gray-600 transition-transform group-hover:translate-x-0.5 dark:border-gray-600 dark:text-gray-300">{{ a.readMins }} min â†’</span>
          </div>
          <p class="mt-2 text-gray-700 dark:text-gray-300">{{ a.summary }}</p>
        </a>
      </article>
    }
  </div>
</section>


